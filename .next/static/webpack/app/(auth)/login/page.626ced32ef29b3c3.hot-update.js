"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(auth)/login/page",{

/***/ "(app-pages-browser)/./src/server/services/auth/authService.ts":
/*!*************************************************!*\
  !*** ./src/server/services/auth/authService.ts ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthService: () => (/* binding */ AuthService),\n/* harmony export */   authService: () => (/* binding */ authService),\n/* harmony export */   refreshToken: () => (/* binding */ refreshToken)\n/* harmony export */ });\n/* harmony import */ var _server_db_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/server/db/client */ \"(app-pages-browser)/./src/server/db/client.ts\");\n/* harmony import */ var _cognitoService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cognitoService */ \"(app-pages-browser)/./src/server/services/auth/cognitoService.ts\");\n// src/server/services/auth/authService.ts\n\n\n// Servicio de autenticación que actúa como fachada para Cognito\nclass AuthService {\n    // Login\n    async login(credentials) {\n        try {\n            // Autenticar con Cognito\n            const cognitoResult = await _cognitoService__WEBPACK_IMPORTED_MODULE_1__.cognitoService.login(credentials);\n            // Buscar usuario en nuestra BD\n            let user = await _server_db_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.findFirst({\n                where: {\n                    email: credentials.email\n                },\n                include: {\n                    role: true\n                }\n            });\n            console.log('Usuario encontrado:', user);\n            console.log('Rol del usuario:', user === null || user === void 0 ? void 0 : user.role);\n            // Si no existe el usuario, lo creamos\n            if (!user) {\n                console.log(\"Usuario no encontrado en BD local, creando...\");\n                // Buscar primero un rol (preferiblemente admin)\n                let role = await _server_db_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].role.findFirst({\n                    where: {\n                        name: 'admin'\n                    }\n                });\n                // Si no existe ningún rol, necesitamos crear al menos uno\n                if (!role) {\n                    console.log(\"Creando rol 'admin' porque no existe\");\n                    role = await _server_db_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].role.create({\n                        data: {\n                            name: 'admin',\n                            permissions: [\n                                '*'\n                            ] // Todos los permisos como JSON\n                        }\n                    });\n                }\n                // Crear el usuario con el rol encontrado o creado\n                user = await _server_db_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.create({\n                    data: {\n                        id: cognitoResult.user.id,\n                        email: credentials.email,\n                        name: cognitoResult.user.name || credentials.email.split('@')[0],\n                        roleId: role.id\n                    },\n                    include: {\n                        role: true\n                    }\n                });\n                console.log(\"Usuario creado exitosamente:\", user.id);\n            }\n            // Devolvemos el resultado combinado\n            return {\n                ...cognitoResult,\n                user: {\n                    ...user,\n                    // Asegurarse de que usamos los datos de nuestra BD\n                    id: user.id,\n                    roleId: user.roleId\n                }\n            };\n        } catch (error) {\n            console.error('Error en login:', error);\n            throw error; // Propagar el error para que el cliente pueda manejarlo\n        }\n    }\n    // Cerrar sesión\n    async logout(accessToken) {\n        try {\n            await _cognitoService__WEBPACK_IMPORTED_MODULE_1__.cognitoService.logout(accessToken);\n            return true;\n        } catch (error) {\n            console.error('Error en logout:', error);\n            return false;\n        }\n    }\n    // Refrescar token\n    async refreshUserToken(refreshToken, email) {\n        try {\n            return await _cognitoService__WEBPACK_IMPORTED_MODULE_1__.cognitoService.refreshToken(refreshToken, email);\n        } catch (error) {\n            console.error('Error al refrescar token:', error);\n            return null;\n        }\n    }\n    // Obtener usuario por ID\n    async getUserById(userId) {\n        try {\n            const user = await _server_db_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.findUnique({\n                where: {\n                    id: userId\n                },\n                include: {\n                    role: true\n                }\n            });\n            if (!user) return null;\n            return user;\n        } catch (error) {\n            console.error('Error al obtener usuario:', error);\n            return null;\n        }\n    }\n    // Crear usuario (admin)\n    async createUser(userData) {\n        try {\n            // Verificar que el rol existe\n            const roleExists = await _server_db_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].role.findUnique({\n                where: {\n                    id: userData.roleId\n                }\n            });\n            if (!roleExists) {\n                throw new Error(\"El rol con ID \".concat(userData.roleId, \" no existe\"));\n            }\n            // Si se proporciona sucursalId, verificar que existe\n            if (userData.sucursalId) {\n                const sucursalExists = await _server_db_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ubicacion.findUnique({\n                    where: {\n                        id: userData.sucursalId\n                    }\n                });\n                if (!sucursalExists) {\n                    throw new Error(\"La ubicaci\\xf3n con ID \".concat(userData.sucursalId, \" no existe\"));\n                }\n            }\n            // Crear usuario en Cognito\n            await _cognitoService__WEBPACK_IMPORTED_MODULE_1__.cognitoService.createUser({\n                email: userData.email,\n                name: userData.name,\n                password: userData.password,\n                roleId: userData.roleId\n            });\n            // Crear usuario en nuestra BD\n            const user = await _server_db_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.create({\n                data: {\n                    email: userData.email,\n                    name: userData.name,\n                    roleId: userData.roleId,\n                    sucursalId: userData.sucursalId || null\n                }\n            });\n            return user;\n        } catch (error) {\n            console.error('Error al crear usuario:', error);\n            throw error;\n        }\n    }\n    // Registrar un nuevo usuario\n    async registerUser(userData) {\n        try {\n            // Registrar en Cognito\n            const cognitoResult = await _cognitoService__WEBPACK_IMPORTED_MODULE_1__.cognitoService.registerUser({\n                email: userData.email,\n                name: userData.name,\n                password: userData.password\n            });\n            if (!cognitoResult.success) {\n                return {\n                    success: false,\n                    message: cognitoResult.message || 'Error al registrar usuario en Cognito',\n                    userId: cognitoResult.userId\n                };\n            }\n            return {\n                success: true,\n                message: cognitoResult.message || 'Usuario registrado exitosamente',\n                userId: cognitoResult.userId\n            };\n        } catch (error) {\n            console.error('Error en registro:', error);\n            return {\n                success: false,\n                message: 'Error al registrar usuario'\n            };\n        }\n    }\n    // Confirmar registro\n    async confirmRegistration(email, code) {\n        try {\n            return await _cognitoService__WEBPACK_IMPORTED_MODULE_1__.cognitoService.confirmRegistration(email, code);\n        } catch (error) {\n            console.error('Error al confirmar registro:', error);\n            return {\n                success: false,\n                message: 'Error al confirmar el registro'\n            };\n        }\n    }\n    // Reenviar código de confirmación\n    async resendConfirmationCode(email) {\n        try {\n            return await _cognitoService__WEBPACK_IMPORTED_MODULE_1__.cognitoService.resendConfirmationCode(email);\n        } catch (error) {\n            console.error('Error al reenviar código:', error);\n            return {\n                success: false,\n                message: 'Error al reenviar el código de verificación'\n            };\n        }\n    }\n}\n// Singleton para uso en la aplicación\nconst authService = new AuthService();\n// Función para el cliente (frontend)\nasync function refreshToken() {\n    const refreshToken = localStorage.getItem('refreshToken');\n    if (!refreshToken) return false;\n    try {\n        const response = await fetch('/api/auth/refresh', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                refreshToken\n            })\n        });\n        if (!response.ok) return false;\n        const data = await response.json();\n        // Actualizar tokens\n        localStorage.setItem('accessToken', data.accessToken);\n        localStorage.setItem('idToken', data.idToken);\n        return true;\n    } catch (error) {\n        console.error('Error al refrescar token:', error);\n        return false;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zZXJ2ZXIvc2VydmljZXMvYXV0aC9hdXRoU2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLDBDQUEwQztBQUVGO0FBQ3dDO0FBRWhGLGdFQUFnRTtBQUN6RCxNQUFNRTtJQUNYLFFBQVE7SUFDUixNQUFNQyxNQUFNQyxXQUE2QixFQUE4QjtRQUNyRSxJQUFJO1lBQ0YseUJBQXlCO1lBQ3pCLE1BQU1DLGdCQUFnQixNQUFNSiwyREFBY0EsQ0FBQ0UsS0FBSyxDQUFDQztZQUVqRCwrQkFBK0I7WUFDL0IsSUFBSUUsT0FBTyxNQUFNTix5REFBTUEsQ0FBQ00sSUFBSSxDQUFDQyxTQUFTLENBQUM7Z0JBQ3JDQyxPQUFPO29CQUNMQyxPQUFPTCxZQUFZSyxLQUFLO2dCQUMxQjtnQkFDQUMsU0FBUztvQkFDUEMsTUFBTTtnQkFDUjtZQUNGO1lBRUlDLFFBQVFDLEdBQUcsQ0FBQyx1QkFBdUJQO1lBQ3pDTSxRQUFRQyxHQUFHLENBQUMsb0JBQW9CUCxpQkFBQUEsMkJBQUFBLEtBQU1LLElBQUk7WUFFeEMsc0NBQXNDO1lBQ3RDLElBQUksQ0FBQ0wsTUFBTTtnQkFDVE0sUUFBUUMsR0FBRyxDQUFDO2dCQUVaLGdEQUFnRDtnQkFDaEQsSUFBSUYsT0FBTyxNQUFNWCx5REFBTUEsQ0FBQ1csSUFBSSxDQUFDSixTQUFTLENBQUM7b0JBQ3JDQyxPQUFPO3dCQUFFTSxNQUFNO29CQUFRO2dCQUN6QjtnQkFFQSwwREFBMEQ7Z0JBQzFELElBQUksQ0FBQ0gsTUFBTTtvQkFDVEMsUUFBUUMsR0FBRyxDQUFDO29CQUNaRixPQUFPLE1BQU1YLHlEQUFNQSxDQUFDVyxJQUFJLENBQUNJLE1BQU0sQ0FBQzt3QkFDOUJDLE1BQU07NEJBQ0pGLE1BQU07NEJBQ05HLGFBQWE7Z0NBQUM7NkJBQUksQ0FBQywrQkFBK0I7d0JBQ3BEO29CQUNGO2dCQUNGO2dCQUVBLGtEQUFrRDtnQkFDbERYLE9BQU8sTUFBTU4seURBQU1BLENBQUNN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IjpbIi9Vc2Vycy9nYXN0b25tb3JhL0Rlc2t0b3AvUHJveWVjdG9zL1R1bHVtL3NyYy9zZXJ2ZXIvc2VydmljZXMvYXV0aC9hdXRoU2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvc2VydmVyL3NlcnZpY2VzL2F1dGgvYXV0aFNlcnZpY2UudHNcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XG5pbXBvcnQgcHJpc21hIGZyb20gJ0Avc2VydmVyL2RiL2NsaWVudCc7XG5pbXBvcnQgeyBjb2duaXRvU2VydmljZSwgTG9naW5DcmVkZW50aWFscywgQXV0aFJlc3VsdCB9IGZyb20gJy4vY29nbml0b1NlcnZpY2UnO1xuXG4vLyBTZXJ2aWNpbyBkZSBhdXRlbnRpY2FjacOzbiBxdWUgYWN0w7phIGNvbW8gZmFjaGFkYSBwYXJhIENvZ25pdG9cbmV4cG9ydCBjbGFzcyBBdXRoU2VydmljZSB7XG4gIC8vIExvZ2luXG4gIGFzeW5jIGxvZ2luKGNyZWRlbnRpYWxzOiBMb2dpbkNyZWRlbnRpYWxzKTogUHJvbWlzZTxBdXRoUmVzdWx0IHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBBdXRlbnRpY2FyIGNvbiBDb2duaXRvXG4gICAgICBjb25zdCBjb2duaXRvUmVzdWx0ID0gYXdhaXQgY29nbml0b1NlcnZpY2UubG9naW4oY3JlZGVudGlhbHMpO1xuICAgICAgXG4gICAgICAvLyBCdXNjYXIgdXN1YXJpbyBlbiBudWVzdHJhIEJEXG4gICAgICBsZXQgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7IFxuICAgICAgICAgIGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbCBcbiAgICAgICAgfSxcbiAgICAgICAgaW5jbHVkZTogeyBcbiAgICAgICAgICByb2xlOiB0cnVlIFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdVc3VhcmlvIGVuY29udHJhZG86JywgdXNlcik7XG4gICAgY29uc29sZS5sb2coJ1JvbCBkZWwgdXN1YXJpbzonLCB1c2VyPy5yb2xlKTtcbiAgICBcbiAgICAgIC8vIFNpIG5vIGV4aXN0ZSBlbCB1c3VhcmlvLCBsbyBjcmVhbW9zXG4gICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJVc3VhcmlvIG5vIGVuY29udHJhZG8gZW4gQkQgbG9jYWwsIGNyZWFuZG8uLi5cIik7XG4gICAgICAgIFxuICAgICAgICAvLyBCdXNjYXIgcHJpbWVybyB1biByb2wgKHByZWZlcmlibGVtZW50ZSBhZG1pbilcbiAgICAgICAgbGV0IHJvbGUgPSBhd2FpdCBwcmlzbWEucm9sZS5maW5kRmlyc3Qoe1xuICAgICAgICAgIHdoZXJlOiB7IG5hbWU6ICdhZG1pbicgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpIG5vIGV4aXN0ZSBuaW5nw7puIHJvbCwgbmVjZXNpdGFtb3MgY3JlYXIgYWwgbWVub3MgdW5vXG4gICAgICAgIGlmICghcm9sZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ3JlYW5kbyByb2wgJ2FkbWluJyBwb3JxdWUgbm8gZXhpc3RlXCIpO1xuICAgICAgICAgIHJvbGUgPSBhd2FpdCBwcmlzbWEucm9sZS5jcmVhdGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBuYW1lOiAnYWRtaW4nLFxuICAgICAgICAgICAgICBwZXJtaXNzaW9uczogWycqJ10gLy8gVG9kb3MgbG9zIHBlcm1pc29zIGNvbW8gSlNPTlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhciBlbCB1c3VhcmlvIGNvbiBlbCByb2wgZW5jb250cmFkbyBvIGNyZWFkb1xuICAgICAgICB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBpZDogY29nbml0b1Jlc3VsdC51c2VyLmlkLCAvLyBVc2FyIGVsIHN1YiBkZSBDb2duaXRvIGNvbW8gSURcbiAgICAgICAgICAgIGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbCxcbiAgICAgICAgICAgIG5hbWU6IGNvZ25pdG9SZXN1bHQudXNlci5uYW1lIHx8IGNyZWRlbnRpYWxzLmVtYWlsLnNwbGl0KCdAJylbMF0sXG4gICAgICAgICAgICByb2xlSWQ6IHJvbGUuaWQsXG4gICAgICAgICAgICAvLyBObyBpbmNsdWltb3Mgc3VjdXJzYWxJZCB5YSBxdWUgZXMgb3BjaW9uYWwgZW4gdHUgZXNxdWVtYVxuICAgICAgICAgIH0sXG4gICAgICAgICAgaW5jbHVkZTogeyBcbiAgICAgICAgICAgIHJvbGU6IHRydWUgXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVXN1YXJpbyBjcmVhZG8gZXhpdG9zYW1lbnRlOlwiLCB1c2VyLmlkKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRGV2b2x2ZW1vcyBlbCByZXN1bHRhZG8gY29tYmluYWRvXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5jb2duaXRvUmVzdWx0LFxuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgLi4udXNlcixcbiAgICAgICAgICAvLyBBc2VndXJhcnNlIGRlIHF1ZSB1c2Ftb3MgbG9zIGRhdG9zIGRlIG51ZXN0cmEgQkRcbiAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICByb2xlSWQ6IHVzZXIucm9sZUlkXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVuIGxvZ2luOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yOyAvLyBQcm9wYWdhciBlbCBlcnJvciBwYXJhIHF1ZSBlbCBjbGllbnRlIHB1ZWRhIG1hbmVqYXJsb1xuICAgIH1cbiAgfVxuICBcbiAgLy8gQ2VycmFyIHNlc2nDs25cbiAgYXN5bmMgbG9nb3V0KGFjY2Vzc1Rva2VuOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY29nbml0b1NlcnZpY2UubG9nb3V0KGFjY2Vzc1Rva2VuKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbiBsb2dvdXQ6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gUmVmcmVzY2FyIHRva2VuXG4gIGFzeW5jIHJlZnJlc2hVc2VyVG9rZW4ocmVmcmVzaFRva2VuOiBzdHJpbmcsIGVtYWlsPzogc3RyaW5nKTogUHJvbWlzZTxPbWl0PEF1dGhSZXN1bHQsICd1c2VyJz4gfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBjb2duaXRvU2VydmljZS5yZWZyZXNoVG9rZW4ocmVmcmVzaFRva2VuLCBlbWFpbCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIHJlZnJlc2NhciB0b2tlbjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIE9idGVuZXIgdXN1YXJpbyBwb3IgSURcbiAgYXN5bmMgZ2V0VXNlckJ5SWQodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPE9taXQ8VXNlciwgJ3Bhc3N3b3JkJz4gfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHVzZXJJZCB9LFxuICAgICAgICBpbmNsdWRlOiB7IHJvbGU6IHRydWUgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghdXNlcikgcmV0dXJuIG51bGw7XG4gICAgICBcbiAgICAgIHJldHVybiB1c2VyO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIHVzdWFyaW86JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIFxuICAvLyBDcmVhciB1c3VhcmlvIChhZG1pbilcbiAgYXN5bmMgY3JlYXRlVXNlcih1c2VyRGF0YToge1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHBhc3N3b3JkOiBzdHJpbmc7XG4gICAgcm9sZUlkOiBzdHJpbmc7XG4gICAgc3VjdXJzYWxJZD86IHN0cmluZztcbiAgfSk6IFByb21pc2U8VXNlciB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBlbCByb2wgZXhpc3RlXG4gICAgICBjb25zdCByb2xlRXhpc3RzID0gYXdhaXQgcHJpc21hLnJvbGUuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiB1c2VyRGF0YS5yb2xlSWQgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcm9sZUV4aXN0cykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVsIHJvbCBjb24gSUQgJHt1c2VyRGF0YS5yb2xlSWR9IG5vIGV4aXN0ZWApO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTaSBzZSBwcm9wb3JjaW9uYSBzdWN1cnNhbElkLCB2ZXJpZmljYXIgcXVlIGV4aXN0ZVxuICAgICAgaWYgKHVzZXJEYXRhLnN1Y3Vyc2FsSWQpIHtcbiAgICAgICAgY29uc3Qgc3VjdXJzYWxFeGlzdHMgPSBhd2FpdCBwcmlzbWEudWJpY2FjaW9uLmZpbmRVbmlxdWUoe1xuICAgICAgICAgIHdoZXJlOiB7IGlkOiB1c2VyRGF0YS5zdWN1cnNhbElkIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXN1Y3Vyc2FsRXhpc3RzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBMYSB1YmljYWNpw7NuIGNvbiBJRCAke3VzZXJEYXRhLnN1Y3Vyc2FsSWR9IG5vIGV4aXN0ZWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENyZWFyIHVzdWFyaW8gZW4gQ29nbml0b1xuICAgICAgYXdhaXQgY29nbml0b1NlcnZpY2UuY3JlYXRlVXNlcih7XG4gICAgICAgIGVtYWlsOiB1c2VyRGF0YS5lbWFpbCxcbiAgICAgICAgbmFtZTogdXNlckRhdGEubmFtZSxcbiAgICAgICAgcGFzc3dvcmQ6IHVzZXJEYXRhLnBhc3N3b3JkLFxuICAgICAgICByb2xlSWQ6IHVzZXJEYXRhLnJvbGVJZFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIENyZWFyIHVzdWFyaW8gZW4gbnVlc3RyYSBCRFxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBlbWFpbDogdXNlckRhdGEuZW1haWwsXG4gICAgICAgICAgbmFtZTogdXNlckRhdGEubmFtZSxcbiAgICAgICAgICByb2xlSWQ6IHVzZXJEYXRhLnJvbGVJZCxcbiAgICAgICAgICBzdWN1cnNhbElkOiB1c2VyRGF0YS5zdWN1cnNhbElkIHx8IG51bGxcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB1c2VyO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBjcmVhciB1c3VhcmlvOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlZ2lzdHJhciB1biBudWV2byB1c3VhcmlvXG4gIGFzeW5jIHJlZ2lzdGVyVXNlcih1c2VyRGF0YToge1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHBhc3N3b3JkOiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nOyB1c2VySWQ/OiBzdHJpbmcgfT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBSZWdpc3RyYXIgZW4gQ29nbml0b1xuICAgICAgY29uc3QgY29nbml0b1Jlc3VsdCA9IGF3YWl0IGNvZ25pdG9TZXJ2aWNlLnJlZ2lzdGVyVXNlcih7XG4gICAgICAgIGVtYWlsOiB1c2VyRGF0YS5lbWFpbCxcbiAgICAgICAgbmFtZTogdXNlckRhdGEubmFtZSxcbiAgICAgICAgcGFzc3dvcmQ6IHVzZXJEYXRhLnBhc3N3b3JkXG4gICAgICB9KTtcbiAgICAgIGlmICghY29nbml0b1Jlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogY29nbml0b1Jlc3VsdC5tZXNzYWdlIHx8ICdFcnJvciBhbCByZWdpc3RyYXIgdXN1YXJpbyBlbiBDb2duaXRvJyxcbiAgICAgICAgICB1c2VySWQ6IGNvZ25pdG9SZXN1bHQudXNlcklkXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIG1lc3NhZ2U6IGNvZ25pdG9SZXN1bHQubWVzc2FnZSB8fCAnVXN1YXJpbyByZWdpc3RyYWRvIGV4aXRvc2FtZW50ZScsXG4gICAgICAgIHVzZXJJZDogY29nbml0b1Jlc3VsdC51c2VySWRcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVuIHJlZ2lzdHJvOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiAnRXJyb3IgYWwgcmVnaXN0cmFyIHVzdWFyaW8nXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIENvbmZpcm1hciByZWdpc3Ryb1xuICBhc3luYyBjb25maXJtUmVnaXN0cmF0aW9uKGVtYWlsOiBzdHJpbmcsIGNvZGU6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgY29nbml0b1NlcnZpY2UuY29uZmlybVJlZ2lzdHJhdGlvbihlbWFpbCwgY29kZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGNvbmZpcm1hciByZWdpc3RybzonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGFsIGNvbmZpcm1hciBlbCByZWdpc3RybydcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gUmVlbnZpYXIgY8OzZGlnbyBkZSBjb25maXJtYWNpw7NuXG4gIGFzeW5jIHJlc2VuZENvbmZpcm1hdGlvbkNvZGUoZW1haWw6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgY29nbml0b1NlcnZpY2UucmVzZW5kQ29uZmlybWF0aW9uQ29kZShlbWFpbCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIHJlZW52aWFyIGPDs2RpZ286JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6ICdFcnJvciBhbCByZWVudmlhciBlbCBjw7NkaWdvIGRlIHZlcmlmaWNhY2nDs24nXG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuXG4vLyBTaW5nbGV0b24gcGFyYSB1c28gZW4gbGEgYXBsaWNhY2nDs25cbmV4cG9ydCBjb25zdCBhdXRoU2VydmljZSA9IG5ldyBBdXRoU2VydmljZSgpO1xuXG4vLyBGdW5jacOzbiBwYXJhIGVsIGNsaWVudGUgKGZyb250ZW5kKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZnJlc2hUb2tlbigpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgY29uc3QgcmVmcmVzaFRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JlZnJlc2hUb2tlbicpO1xuICBpZiAoIXJlZnJlc2hUb2tlbikgcmV0dXJuIGZhbHNlO1xuICBcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2F1dGgvcmVmcmVzaCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHJlZnJlc2hUb2tlbiB9KVxuICAgIH0pO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIFxuICAgIC8vIEFjdHVhbGl6YXIgdG9rZW5zXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FjY2Vzc1Rva2VuJywgZGF0YS5hY2Nlc3NUb2tlbik7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lkVG9rZW4nLCBkYXRhLmlkVG9rZW4pO1xuICAgIFxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIHJlZnJlc2NhciB0b2tlbjonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59Il0sIm5hbWVzIjpbInByaXNtYSIsImNvZ25pdG9TZXJ2aWNlIiwiQXV0aFNlcnZpY2UiLCJsb2dpbiIsImNyZWRlbnRpYWxzIiwiY29nbml0b1Jlc3VsdCIsInVzZXIiLCJmaW5kRmlyc3QiLCJ3aGVyZSIsImVtYWlsIiwiaW5jbHVkZSIsInJvbGUiLCJjb25zb2xlIiwibG9nIiwibmFtZSIsImNyZWF0ZSIsImRhdGEiLCJwZXJtaXNzaW9ucyIsImlkIiwic3BsaXQiLCJyb2xlSWQiLCJlcnJvciIsImxvZ291dCIsImFjY2Vzc1Rva2VuIiwicmVmcmVzaFVzZXJUb2tlbiIsInJlZnJlc2hUb2tlbiIsImdldFVzZXJCeUlkIiwidXNlcklkIiwiZmluZFVuaXF1ZSIsImNyZWF0ZVVzZXIiLCJ1c2VyRGF0YSIsInJvbGVFeGlzdHMiLCJFcnJvciIsInN1Y3Vyc2FsSWQiLCJzdWN1cnNhbEV4aXN0cyIsInViaWNhY2lvbiIsInBhc3N3b3JkIiwicmVnaXN0ZXJVc2VyIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJjb25maXJtUmVnaXN0cmF0aW9uIiwiY29kZSIsInJlc2VuZENvbmZpcm1hdGlvbkNvZGUiLCJhdXRoU2VydmljZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJqc29uIiwic2V0SXRlbSIsImlkVG9rZW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/server/services/auth/authService.ts\n"));

/***/ })

});